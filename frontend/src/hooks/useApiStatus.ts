import { useState, useCallback } from 'react';\nimport { useToast } from '@/components/ToastProvider';\n\nexport interface ApiStatus {\n  loading: boolean;\n  error: string | null;\n  success: boolean;\n}\n\nexport const useApiStatus = () => {\n  const [status, setStatus] = useState<ApiStatus>({\n    loading: false,\n    error: null,\n    success: false,\n  });\n\n  const { showToast } = useToast();\n\n  const executeWithStatus = useCallback(async <T,>(\n    apiCall: () => Promise<T>,\n    successMessage?: string,\n    errorMessage?: string\n  ): Promise<T | null> => {\n    setStatus({ loading: true, error: null, success: false });\n\n    try {\n      const result = await apiCall();\n\n      setStatus({ loading: false, error: null, success: true });\n\n      if (successMessage) {\n        showToast(successMessage, 'success');\n      }\n\n      return result;\n    } catch (error: any) {\n      const errorMsg = errorMessage || (error.message || 'An error occurred');\n      setStatus({ loading: false, error: errorMsg, success: false });\n\n      showToast(errorMsg, 'error');\n\n      console.error('API Error:', error);\n      return null;\n    }\n  }, [showToast]);\n\n  const resetStatus = useCallback(() => {\n    setStatus({ loading: false, error: null, success: false });\n  }, []);\n\n  return {\n    status,\n    executeWithStatus,\n    resetStatus,\n  };\n};
